<!DOCTYPE html>
<html>

<head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Site Metas -->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>TechMed HealthCare - View All Users</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" type="text/css" href="../admin/mico-html/css/bootstrap.css" />

    <!-- Fonts style -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

    <!-- Owl slider stylesheet -->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />

    <!-- Font awesome style -->
    <link href="../admin/mico-html/css/font-awesome.min.css" rel="stylesheet" />
    <!-- Nice select -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css" integrity="sha256-mLBIhmBvigTFWPSCtvdu6a76T+3Xyt+K571hupeFLg4=" crossorigin="anonymous" />
    <!-- Datepicker -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker.css">
    <!-- Custom styles for this template -->
    <link href="../admin/mico-html/css/style.css" rel="stylesheet" />
    <!-- Responsive style -->
    <link href="../admin/mico-html/css/responsive.css" rel="stylesheet" />

    <link rel="stylesheet" href="styles1.css"/>
</head>

<body>

<div class="hero_area">
    <!-- Header section starts -->
    <header class="header_section">
        <div class="header_top">
            <div class="container">
                <div class="contact_nav">
                    <a href="">
                        <i class="fa fa-phone" aria-hidden="true"></i>
                        <span>
                Call : +01 123455678990
              </span>
                    </a>
                    <a href="">
                        <i class="fa fa-envelope" aria-hidden="true"></i>
                        <span>
                Email : @TechMed.HealthCare.com
              </span>
                    </a>
                    <a href="">
                        <i class="fa fa-map-marker" aria-hidden="true"></i>
                        <span>
                Location
              </span>
                    </a>
                </div>
            </div>
        </div>
        <div class="header_bottom">
            <div class="container-fluid">
                <nav class="navbar navbar-expand-lg custom_nav-container ">
                    <a class="navbar-brand" href="../MainPage/webcode.html">
                        <img src="../admin/mico-html/images/logo.png" alt=""  >
                    </a>

                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                        <span class=""> </span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <div class="d-flex mr-auto flex-column flex-lg-row align-items-center">
                            <ul class="navbar-nav  ">
                                <li class="nav-item active">
                                    <a class="nav-link" href="../MainPage/webcode.html">Home <span class="sr-only">(current)</span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#about"> About</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#treatment">Treatment</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#doctors">Doctors</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#testimonial">Testimonial</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#contact">Contact Us</a>
                                </li>
                            </ul>
                        </div>
                        <div class="quote_btn-container">
                            <a href="">
                                <i class="fa fa-user" aria-hidden="true"></i>
                                <span>
                    <a href="../LoginPage/LoginPage.html">Logout</a>
                  </span>
                            </a>

                            <form class="form-inline">
                                <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </header>
    <!-- end header section -->
    <div class="w3-sidebar w3-bar-block w3-border-right" style="display:none" id="mySidebar">
        <button onclick="w3_close()" class="w3-bar-item w3-large">Close &times;</button>
        <a href="../Mainpage/webcode.html" class="w3-bar-item w3-button">Home</a>
        <a href="../admin/ShowAllDoctors.html" class="w3-bar-item w3-button">View All Doctors</a>
        <a href="../admin/ShowAllUsers.html" class="w3-bar-item w3-button">View All Users</a>
        <a href="../admin/ImportUsers.html" class="w3-bar-item w3-button">Import New User/Doctor</a>
        <a href="../admin/ShowAllPatients.html" class="w3-bar-item w3-button">View All Patients</a>
        <a href="../admin/ViewSchedule.html" class="w3-bar-item w3-button">Cancel Doctor Appointments</a>
        <a href="../LoginPage/LoginPage.html" class="w3-bar-item w3-button">Logout</a>
    </div>

    <!-- slider section -->
    <button class="w3-button w3-teal w3-xlarge" onclick="w3_open()">â˜°</button>

</div>

<!-- view all users section -->
<div class="container">
    <h2 class="text-center mb-1">User Information</h2>
    <!-- Add User Button -->
    <div class="add-button">
        <button id="addUserBtn" class="btn btn-primary mb-3" onclick="location.href='ImportUsers.html'">Add User</button>
    </div>

    <div class="table-container mt-1 mb-5">
        <table class="table table-custom">
            <thead>
            <tr>
                <th>User ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Contact</th>
                <th>Department</th>
                <th>Shift</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody id="userTableBody">
            <!--Table will be inserted here by the javascript code-->
            </tbody>
        </table>
    </div>
</div>

<!-- Edit User Modal -->
<div id="editUserModal" style="display:none; position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); background:white; padding:20px; border:1px solid #ccc; z-index:1000; width: 400px;">
    <h3>Edit User</h3>
    <form id="editForm" onsubmit="submitEditForm(event)">
        <div class="form-group">
            <label for="editUserId">User ID</label>
            <input type="text" id="editUserId" class="form-control" readonly>
        </div>
        <div class="form-group">
            <label for="editUserName">Name</label>
            <input type="text" id="editUserName" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="editUserEmail">Email</label>
            <input type="email" id="editUserEmail" class="form-control" required>
        </div>
        <div class="form-group">
            <label for="editUserContact">Contact</label>
            <input type="text" id="editUserContact" class="form-control" required>
        </div>
        <button type="submit" class="btn btn-primary">Save Changes</button>
        <button type="button" onclick="closeModal()" class="btn btn-secondary">Cancel</button>
    </form>
</div>

<!-- Background overlay for modal -->
<div id="modalOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:500;"></div>

<!-- end view all users section -->
<script>

    document.addEventListener('DOMContentLoaded', function() {
    const dummyUsers = [
        { id: 1, empName: 'Alice Brown', email: 'alice.brown@example.com', contact: '1234567890', department: 'General', shift: 'Day' },
        { id: 2, empName: 'Bob Smith', email: 'bob.smith@example.com', contact: '1234567891', department: 'Emergency', shift: 'Night' },
        { id: 3, empName: 'Charlie Johnson', email: 'charlie.johnson@example.com', contact: '1234567892', department: 'General', shift: 'Night' }
    ];

    // Retrieve users from localStorage
    let storedUsers = JSON.parse(localStorage.getItem('users')) || [];

    // Check if localStorage is empty
    if (storedUsers.length === 0) {
        // If localStorage is empty, populate it with dummy data and save to localStorage
        localStorage.setItem('users', JSON.stringify(dummyUsers));
        storedUsers = dummyUsers;
    }

    renderUsers(storedUsers);
});

function renderUsers(users) {
    const userTableBody = document.getElementById('userTableBody');
    userTableBody.innerHTML = ''; // Clear existing rows

    users.forEach(function(user) {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${user.id}</td>
            <td>${user.empName}</td>
            <td>${user.email}</td>
            <td>${user.contact}</td>
            <td>
                    <select class="form-control" data-id="${user.id}" onchange="updateUserField(this, 'department')">
                        <option value="General" ${user.department === 'General' ? 'selected' : ''}>General</option>
                        <option value="Emergency" ${user.department === 'Emergency' ? 'selected' : ''}>Emergency</option>
                    </select>
                </td>
                <td>
                    <select class="form-control" data-id="${user.id}" onchange="updateUserField(this, 'shift')">
                        <option value="Day" ${user.shift === 'Day' ? 'selected' : ''}>Day</option>
                        <option value="Night" ${user.shift === 'Night' ? 'selected' : ''}>Night</option>
                    </select>
                </td>
            <td class="actions">
                <div class="btn-container">
                    <button class="btn btn-custom btn-edit" data-id="${user.id}">Edit</button>
                    <button class="btn btn-custom btn-red btn-delete" data-id="${user.id}">Delete</button>
                </div>
            </td>
        `;
        userTableBody.appendChild(row);
    });

    // Bind event listeners to edit and delete buttons
    bindUserActions();
}

function bindUserActions() {
    const editButtons = document.querySelectorAll('.btn-edit');
    const deleteButtons = document.querySelectorAll('.btn-delete');

    editButtons.forEach(button => {
        button.addEventListener('click', function () {
            const userId = this.dataset.id;
            showEditForm(userId);
        });
    });

    deleteButtons.forEach(button => {
        button.addEventListener('click', function () {
            const userId = this.dataset.id;
            deleteUser(userId);
        });
    });
}

function showEditForm(userId) {
    const users = JSON.parse(localStorage.getItem('users')) || [];
    const user = users.find(u => u.id == userId);

    if (user) {
        document.getElementById('editUserId').value = user.id;
        document.getElementById('editUserName').value = user.empName;
        document.getElementById('editUserEmail').value = user.email;
        document.getElementById('editUserContact').value = user.contact;

        // Show the modal
        document.getElementById('editUserModal').style.display = 'block';
        document.getElementById('modalOverlay').style.display = 'block';
    }
}

function submitEditForm(event) {
    event.preventDefault();

    const id = document.getElementById('editUserId').value;
    const empName = document.getElementById('editUserName').value;
    const email = document.getElementById('editUserEmail').value;
    const contact = document.getElementById('editUserContact').value;

    let users = JSON.parse(localStorage.getItem('users')) || [];
    const userIndex = users.findIndex(user => user.id == id);

    if (userIndex !== -1) {
        users[userIndex].empName = empName;
        users[userIndex].email = email;
        users[userIndex].contact = contact;
        localStorage.setItem('users', JSON.stringify(users));
    }

    // Update the table row directly
    const row = document.querySelector(`.btn-edit[data-id="${id}"]`).closest('tr');
    row.cells[1].innerText = empName;
    row.cells[2].innerText = email;
    row.cells[3].innerText = contact;
    // Hide the modal and reset the select elements
    closeModal();
}

function deleteUser(userId) {
    if (confirm('Are you sure you want to delete this user?')) {
        let users = JSON.parse(localStorage.getItem('users')) || [];
        users = users.filter(user => user.id != userId);
        localStorage.setItem('users', JSON.stringify(users));

        // Remove the row from the table
        document.querySelector(`.btn-delete[data-id="${userId}"]`).closest('tr').remove();
    }
}

function closeModal() {
    // Reset the select elements to hide them again after form submission
    // document.getElementById('editUserDepartment').style.display = 'none';
    // document.getElementById('editUserShift').style.display = 'none';
    document.getElementById('editUserModal').style.display = 'none';
    document.getElementById('modalOverlay').style.display = 'none';
}

document.getElementById('editForm').addEventListener('submit', submitEditForm);
</script>

<!-- about section -->

<section class="about_section" id="about">
    <div class="container  ">
        <div class="row">
            <div class="col-md-6 ">
                <div class="img-box">
                    <img src="../admin/mico-html/images/about-img.jpg" alt="">
                </div>
            </div>
            <div class="col-md-6">
                <div class="detail-box">
                    <div class="heading_container">
                        <h2>
                            About <span>Hospital</span>
                        </h2>
                    </div>
                    <p>
                        TechMed Healthcare
                        Is a multispecialty tertiary care hospital in Pune, providing the highest standard of clinical expertise and nursing care by offering the latest technology, and state-of-the-art hospital facilities. The Hospital focuses on rapid assessment intervention and treatment for numerous common and complex conditions. Devotion to the art and science of healing reinforces every aspect of our mission.
                        In addition to providing quality health care the focus is also on preventive health programmes, . . .            </p>
                    <a href="">
                        Read More
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end about section -->


<!-- treatment section -->

<section class="treatment_section layout_padding" id="treatment">
    <div class="side_img">
        <img src="../admin/mico-html/images/treatment-side-img.jpg" alt="">
    </div>
    <div class="container">
        <div class="heading_container heading_center">
            <h2>
                Hospital <span>Treatment</span>
            </h2>
        </div>
        <div class="row">
            <div class="col-md-6 col-lg-3">
                <div class="box ">
                    <div class="img-box">
                        <img src="../admin/mico-html/images/t1.png" alt="">
                    </div>
                    <div class="detail-box">
                        <h4>
                            Nephrologist Care
                        </h4>
                        <p>
                            alteration in some form, by injected humour, or randomised words which don't look even slightly e sure there isn't anything
                        </p>
                        <a href="">
                            Read More
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="box ">
                    <div class="img-box">
                        <img src="../admin/mico-html/images/t2.png" alt="">
                    </div>
                    <div class="detail-box">
                        <h4>
                            Eye Care
                        </h4>
                        <p>
                            alteration in some form, by injected humour, or randomised words which don't look even slightly e sure there isn't anything
                        </p>
                        <a href="">
                            Read More
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="box ">
                    <div class="img-box">
                        <img src="../admin/mico-html/images/t3.png" alt="">
                    </div>
                    <div class="detail-box">
                        <h4>
                            Pediatrician Clinic
                        </h4>
                        <p>
                            alteration in some form, by injected humour, or randomised words which don't look even slightly e sure there isn't anything
                        </p>
                        <a href="">
                            Read More
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="box ">
                    <div class="img-box">
                        <img src="../admin/mico-html/images/t4.png" alt="">
                    </div>
                    <div class="detail-box">
                        <h4>
                            Parental Care
                        </h4>
                        <p>
                            alteration in some form, by injected humour, or randomised words which don't look even slightly e sure there isn't anything
                        </p>
                        <a href="">
                            Read More
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end treatment section -->

<!-- team section -->

<section class="team_section layout_padding" id="doctors">
    <div class="container">
        <div class="heading_container heading_center">
            <h2>
                Our <span>Doctors</span>
            </h2>
        </div>
        <div class="carousel-wrap ">
            <div class="owl-carousel team_carousel">
                <div class="item">
                    <div class="box">
                        <div class="img-box">
                            <img src="../admin/mico-html/images/team1.jpg" alt="" />
                        </div>
                        <div class="detail-box">
                            <h5>
                                Hennry
                            </h5>
                            <h6>
                                MBBS
                            </h6>
                            <div class="social_box">
                                <a href="">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-instagram" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="box">
                        <div class="img-box">
                            <img src="../admin/mico-html/images/team2.jpg" alt="" />
                        </div>
                        <div class="detail-box">
                            <h5>
                                Jenni
                            </h5>
                            <h6>
                                MBBS
                            </h6>
                            <div class="social_box">
                                <a href="">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-instagram" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="item">
                    <div class="box">
                        <div class="img-box">
                            <img src="../admin/mico-html/images/team3.jpg" alt="" />
                        </div>
                        <div class="detail-box">
                            <h5>
                                Morco
                            </h5>
                            <h6>
                                MBBS
                            </h6>
                            <div class="social_box">
                                <a href="">
                                    <i class="fa fa-facebook" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-twitter" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-linkedin" aria-hidden="true"></i>
                                </a>
                                <a href="">
                                    <i class="fa fa-instagram" aria-hidden="true"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- end team section -->




<!-- info section -->
<section class="info_section " id="contact">
    <div class="container">
        <div class="info_top">
            <div class="info_logo">
                <a href="">
                    <img src="../admin/mico-html/images/logo.png" alt="">
                </a>
            </div>
            <div class="info_form">
                <form action="">
                    <input type="email" placeholder="Your email">
                    <button>
                        Subscribe
                    </button>
                </form>
            </div>
        </div>
        <div class="info_bottom layout_padding2">
            <div class="row info_main_row">
                <div class="col-md-6 col-lg-3">
                    <h5>
                        Address
                    </h5>
                    <div class="info_contact">
                        <a href="">
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            <span>
                  Location
                </span>
                        </a>
                        <a href="">
                            <i class="fa fa-phone" aria-hidden="true"></i>
                            <span>
                  Call +01 1234567890
                </span>
                        </a>
                        <a href="">
                            <i class="fa fa-envelope"></i>
                            <span>
                  demo@gmail.com
                </span>
                        </a>
                    </div>
                    <div class="social_box">
                        <a href="">
                            <i class="fa fa-facebook" aria-hidden="true"></i>
                        </a>
                        <a href="">
                            <i class="fa fa-twitter" aria-hidden="true"></i>
                        </a>
                        <a href="">
                            <i class="fa fa-linkedin" aria-hidden="true"></i>
                        </a>
                        <a href="">
                            <i class="fa fa-instagram" aria-hidden="true"></i>
                        </a>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="info_links">
                        <h5>
                            Useful link
                        </h5>
                        <div class="info_links_menu">
                            <a class="active" href="../MainPage/webcode.html">
                                Home
                            </a>
                            <a href="#about">
                                About
                            </a>
                            <a href="#treatment">
                                Treatment
                            </a>
                            <a href="#doctors">
                                Doctors
                            </a>
                            <a href="#testimonial">
                                Testimonial
                            </a>
                            <a href="#contact">
                                Contact us
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="info_post">
                        <h5>
                            LATEST POSTS
                        </h5>
                        <div class="post_box">
                            <div class="img-box">
                                <img src="../admin/mico-html/images/post1.jpg" alt="">
                            </div>
                            <p>
                                Normal
                                distribution
                            </p>
                        </div>
                        <div class="post_box">
                            <div class="img-box">
                                <img src="../admin/mico-html/images/post2.jpg" alt="">
                            </div>
                            <p>
                                Normal
                                distribution
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 col-lg-3">
                    <div class="info_post">
                        <h5>
                            News
                        </h5>
                        <div class="post_box">
                            <div class="img-box">
                                <img src="../admin/mico-html/images/post3.jpg" alt="">
                            </div>
                            <p>
                                Normal
                                distribution
                            </p>
                        </div>
                        <div class="post_box">
                            <div class="img-box">
                                <img src="../admin/mico-html/images/post4.png" alt="">
                            </div>
                            <p>
                                Normal
                                distribution
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- end info section -->


<!-- footer section -->
<footer class="footer_section">
    <div class="container">
        <p>
            &copy; <span id="displayYear"></span> All Rights Reserved By
            <a href="../Mainpage/webcode.html">MultiThreaders</a>
        </p>
    </div>
</footer>
<!-- footer section -->

<!-- jQuery -->
<script src="../admin/mico-html/js/jquery-3.4.1.min.js"></script>
<!-- Bootstrap JS -->
<script src="../admin/mico-html/js/bootstrap.js"></script>
<!-- Nice select -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js" integrity="sha256-Zr3vByTlMGQhvMfgkQ5BtWRSKBGa2QlspKYJnkjZTmo=" crossorigin="anonymous"></script>
<!-- Owl slider -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
<!-- Datepicker -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.js"></script>
<!-- Custom JS -->
<script src="../admin/mico-html/js/custom.js"></script>

</body>

</html>
